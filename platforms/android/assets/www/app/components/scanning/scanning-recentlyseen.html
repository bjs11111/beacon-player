<ion-view>
	
	<ion-nav-title>
      Scanning View {{listLength}}
    </ion-nav-title>
 
	<ion-nav-buttons side="left">
		<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
	</ion-nav-buttons>
  
  	<ion-content class="has-header">


  	<div class="list">
  <label class="item item-input item-stacked-label">
    <span class="input-label">StepBreak</span>
    <input type="number" min="1" ng-model="stepBreak" placeholder="break between steps">
  </label>
  <label class="item item-input item-stacked-label">
    <span class="input-label">Delay</span>
    <input type="text" min="1" ng-model="delay" placeholder="Delay for beginnign action">
  </label>
  <label class="item item-input item-stacked-label">
    <span class="input-label">Offset</span>
    <input type="text" min="1" ng-model="offset" placeholder="ms to offset multiple beacons">
  </label>
</div>
  	
  	<button class="button"  ng-click="nearPositiveInOut(delay,stepBreak)">nearPositiveInOut</button>
  	<button class="button"  ng-click="nearInOut(delay,stepBreak)">nearInOut</button>
  	<button class="button"  ng-click="intermediateInOut(delay,stepBreak)">intermediateInOut</button>
  	<button class="button"  ng-click="farInOut(delay,stepBreak)">farInOut</button>
  	
  	<button class="button" ng-click="allInOut(offset,delay,stepBreak)">allInOut</button>
  	
  	<button class="button button-balanced" ng-click="startDummyScanning()">startDummyScanning</button>
  	<button class="button button-energized"  ng-click="stopDummyScanning()">stopDummyScanning</button>

	<h2 class="text-center positive padding-vertical" ng-show="listLength == 0">nothing found...</h2>
 	
 	<ion-refresher on-refresh="refreshServerData('pullToRefresh')"></ion-refresher>
 	
 	<ion-list 	ng-show="listLength != 0" 
		 		show-delete="false"
		        show-reorder="false"
		        can-swipe="true" 
 	> 
	  <!-- Filters should be applied to the expression, before specifying a tracking expression
	  	   https://docs.angularjs.org/api/ng/directive/ngRepeat
	  	   rangeFilter:filtersSettings.triggerRange:'rssi' |
	  	   | filter:all | orderBy:orderProp
	  	   
	  	   track by device.address 
	  	   <ion-toggle ng-model="isJustIBeacons" toggle-class="toggle-calm">just IBeacons</ion-toggle>
	  
		
			<div ng-repeat="device in receivedDevicesList">
        		<pre>
        			<code>
					{{device.bcmsBeaconKey}}
					{{device.scanData}}
					{{device.bcmsBeacon}}
					</code>
				</pre>
			</div>
	
		<ion-item ng-repeat="device in receivedDevicesList track by device.address" 
                  href="#" 
                  class="">
                  total: {{listLength}}
        	<pre>
        		<code>
					{{device}}
				</code>
			</pre>
		</ion-item>
	 -->
		<ion-item ng-repeat="device in receivedDevicesList track by device.bcmsBeaconKey" 
                  href="#" 
                  class=" item-icon-right "
                  ng-class="device.bcmsBeacon.contentThumnailUrl?'item-avatar':'item-icon-left'"> 
                  
                  <img class="content-img" ng-show="device.bcmsBeacon.contentTitle" ng-src="{{device.bcmsBeacon.contentThumnailUrl?device.bcmsBeacon.contentThumnailUrl:''}}">
				  <h2>{{device.bcmsBeacon.content_title}}</h2>
				   
				   
 					<ng-ble-item ng-model="device" ng-click="openIAB(device.bcmsBeaconKey)"></ng-ble-item>  
 		</ion-item>
 		
 	</ion-list>
 	
 	

  </ion-content>
  
  
</ion-view>
